<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Anand Krishnakumar" />

<meta name="date" content="2018-12-19" />

<title>Multi-period arithmetic attribution</title>

<script src="data:application/x-javascript;base64,JChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXsKICAgICQoJ1tkYXRhLXRvZ2dsZT0idG9vbHRpcCJdJykudG9vbHRpcCgpOwogICAgJCgnW2RhdGEtdG9nZ2xlPSJwb3BvdmVyIl0nKS5wb3BvdmVyKCk7Cn0pOwo="></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">Multi-period arithmetic attribution</h1>
<h4 class="author"><em><a href="https://github.com/anandkkumar">Anand Krishnakumar</a></em></h4>
<h4 class="date"><em>2018-12-19</em></h4>



<style type="text/css">
body {
  max-width: 100% !important;
}
table {
  margin-left: 0 !important;
}
</style>
<p>This vignette shows how to perform a multi-period arithmetic attribution analysis on a portfolio using the the <code>PortfolioAttribution</code> package using different approaches to linking attribution effects. The default method chosen by the package is <code>GRAP</code>.</p>
<div id="define-the-data-inputs" class="section level3">
<h3><ins>Define the data inputs</ins></h3>
<p>Consider a multi-period portfolio &amp; benchmark data categorized into three regions as shown below. Since the packages uses an end-of-period convention for the weights, the dates associated with the weights are a period behind those of the returns.</p>
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="border-bottom:hidden" colspan="1">
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="3">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Portfolio Weights
</div>
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="3">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Portfolio Returns
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
UK equities
</th>
<th style="text-align:right;">
Japanese equities
</th>
<th style="text-align:right;">
US equities
</th>
<th style="text-align:right;">
UK equities
</th>
<th style="text-align:right;">
Japanese equities
</th>
<th style="text-align:right;">
US equities
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2015-12-31
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
0.20
</td>
<td style="text-align:right;">
-0.05
</td>
<td style="text-align:right;">
0.06
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #F7F7F7;">
2016-03-31
</td>
<td style="text-align:right;background-color: #F7F7F7;">
0.7
</td>
<td style="text-align:right;background-color: #F7F7F7;">
0.2
</td>
<td style="text-align:right;background-color: #F7F7F7;">
0.1
</td>
<td style="text-align:right;background-color: #F7F7F7;">
-0.05
</td>
<td style="text-align:right;background-color: #F7F7F7;">
0.03
</td>
<td style="text-align:right;background-color: #F7F7F7;">
-0.05
</td>
</tr>
<tr>
<td style="text-align:left;">
2016-06-30
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:right;">
-0.20
</td>
<td style="text-align:right;">
0.08
</td>
<td style="text-align:right;">
-0.15
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #F7F7F7;">
2016-09-30
</td>
<td style="text-align:right;background-color: #F7F7F7;">
0.3
</td>
<td style="text-align:right;background-color: #F7F7F7;">
0.5
</td>
<td style="text-align:right;background-color: #F7F7F7;">
0.2
</td>
<td style="text-align:right;background-color: #F7F7F7;">
0.10
</td>
<td style="text-align:right;background-color: #F7F7F7;">
-0.07
</td>
<td style="text-align:right;background-color: #F7F7F7;">
0.25
</td>
</tr>
</tbody>
</table>
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="border-bottom:hidden" colspan="1">
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="3">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Benchmark Weights
</div>
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="3">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Benchmark Returns
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
UK equities
</th>
<th style="text-align:right;">
Japanese equities
</th>
<th style="text-align:right;">
US equities
</th>
<th style="text-align:right;">
UK equities
</th>
<th style="text-align:right;">
Japanese equities
</th>
<th style="text-align:right;">
US equities
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2015-12-31
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:right;">
0.10
</td>
<td style="text-align:right;">
-0.04
</td>
<td style="text-align:right;">
0.08
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #F7F7F7;">
2016-03-31
</td>
<td style="text-align:right;background-color: #F7F7F7;">
0.4
</td>
<td style="text-align:right;background-color: #F7F7F7;">
0.3
</td>
<td style="text-align:right;background-color: #F7F7F7;">
0.3
</td>
<td style="text-align:right;background-color: #F7F7F7;">
-0.07
</td>
<td style="text-align:right;background-color: #F7F7F7;">
0.04
</td>
<td style="text-align:right;background-color: #F7F7F7;">
-0.10
</td>
</tr>
<tr>
<td style="text-align:left;">
2016-06-30
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:right;">
0.1
</td>
<td style="text-align:right;">
-0.25
</td>
<td style="text-align:right;">
0.05
</td>
<td style="text-align:right;">
-0.20
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #F7F7F7;">
2016-09-30
</td>
<td style="text-align:right;background-color: #F7F7F7;">
0.4
</td>
<td style="text-align:right;background-color: #F7F7F7;">
0.4
</td>
<td style="text-align:right;background-color: #F7F7F7;">
0.2
</td>
<td style="text-align:right;background-color: #F7F7F7;">
0.05
</td>
<td style="text-align:right;background-color: #F7F7F7;">
-0.05
</td>
<td style="text-align:right;background-color: #F7F7F7;">
0.10
</td>
</tr>
</tbody>
</table>
<p>This sample data from the package is available in the package structured as a <code>list</code> object to use.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(PortfolioAttribution)
<span class="kw">data</span>(<span class="st">&quot;sample_data&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;PortfolioAttribution&quot;</span>)
<span class="kw">names</span>(multi_period_portf_<span class="dv">2</span>)
<span class="co">#&gt; [1] &quot;Rp&quot; &quot;Rb&quot; &quot;wp&quot; &quot;wb&quot;</span></code></pre></div>
</div>
<div id="multi-period-attribution" class="section level3">
<h3><ins>Multi-period attribution</ins></h3>
<p>For the first four methods below, we will perform a multi-period arithmetic attribution analysis on this data using the Brinson and Fachler model and adopting a top-down approach (where the interaction effect is combined with the selection effect) using different smoothing or linking algorithms. The algorithms vary in how the smoothing is achieved.</p>
<p>The fifth method, Davies and Laker, does not support a top-down or bottom attribution analysis and so the interaction effect is reported separately. In addition, you can only get total smoothed attribution effects and not those for each period.</p>
<div id="grap-smoothing" class="section level4">
<h4>GRAP smoothing</h4>
<p>The following command is executed to perform a multi-period attribution analysis with the smoothing method as described by the Paris-based working group of performance experts, <em>GRAP <span class="citation">(1997)</span></em>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># the adjusted parameter defaults to FALSE</span>
attribution_results_grap_unadjusted =<span class="st"> </span><span class="kw">Attribution</span>(multi_period_portf_<span class="dv">2</span><span class="op">$</span>Rp, 
                                                  multi_period_portf_<span class="dv">2</span><span class="op">$</span>wp, 
                                                  multi_period_portf_<span class="dv">2</span><span class="op">$</span>Rb, 
                                                  multi_period_portf_<span class="dv">2</span><span class="op">$</span>wb, 
                                                  <span class="dt">method =</span> <span class="st">&quot;top.down&quot;</span>, 
                                                  <span class="dt">linking =</span> <span class="st">&quot;grap&quot;</span>, <span class="dt">adjusted =</span> <span class="ot">FALSE</span>) </code></pre></div>
<p>The different attribution effects by category as well as their totals can be inspected.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">attribution_results_grap_unadjusted<span class="op">$</span>Allocation
<span class="co">#&gt;            UK equities Japanese equities  US equities       Total</span>
<span class="co">#&gt; 2016-03-31  0.00000000      -0.010400000 -0.001600000 -0.01200000</span>
<span class="co">#&gt; 2016-06-30 -0.00720000      -0.008600000  0.010800000 -0.00500000</span>
<span class="co">#&gt; 2016-09-30  0.02500000       0.017500000 -0.007500000  0.03500000</span>
<span class="co">#&gt; 2016-12-31 -0.00300000      -0.007000000  0.000000000 -0.01000000</span>
<span class="co">#&gt; Total       0.01673657      -0.005450401  0.001073463  0.01235964</span>
attribution_results_grap_unadjusted<span class="op">$</span>Selection
<span class="co">#&gt;            UK equities Japanese equities US equities     Total</span>
<span class="co">#&gt; 2016-03-31  0.04000000      -0.003000000 -0.00600000 0.0310000</span>
<span class="co">#&gt; 2016-06-30  0.01400000      -0.002000000  0.00500000 0.0170000</span>
<span class="co">#&gt; 2016-09-30  0.01500000       0.015000000  0.01000000 0.0400000</span>
<span class="co">#&gt; 2016-12-31  0.01500000      -0.010000000  0.03000000 0.0350000</span>
<span class="co">#&gt; Total       0.07850444       0.001580342  0.04021131 0.1202961</span></code></pre></div>
<p>The expected total arithmetic excess return over all periods, can be computed with the following commands. Here, we use the methods defined in <code>PerformanceAnalytics</code> package, which is an installed dependency of the <code>PortfolioAttribution</code> package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">total_portfolio_return =<span class="st"> </span><span class="kw">prod</span>(<span class="dv">1</span> <span class="op">+</span><span class="st"> </span>PerformanceAnalytics<span class="op">::</span><span class="kw">Return.portfolio</span>(multi_period_portf_<span class="dv">2</span><span class="op">$</span>Rp, 
                                                                         multi_period_portf_<span class="dv">2</span><span class="op">$</span>wp)) <span class="op">-</span><span class="st"> </span><span class="dv">1</span>
total_portfolio_return
<span class="co">#&gt; [1] 0.03859321</span>

total_benchmark_return =<span class="st"> </span><span class="kw">prod</span>(<span class="dv">1</span> <span class="op">+</span><span class="st"> </span>PerformanceAnalytics<span class="op">::</span><span class="kw">Return.portfolio</span>(multi_period_portf_<span class="dv">2</span><span class="op">$</span>Rb, 
                                                                         multi_period_portf_<span class="dv">2</span><span class="op">$</span>wb)) <span class="op">-</span><span class="st"> </span><span class="dv">1</span>
total_benchmark_return
<span class="co">#&gt; [1] -0.09406252</span>

total_excess_return =<span class="st"> </span>total_portfolio_return <span class="op">-</span><span class="st"> </span>total_benchmark_return
total_excess_return
<span class="co">#&gt; [1] 0.1326557</span></code></pre></div>
<p>The goal of the smoothing algorithms is to have the total attribution effects for each period sum up to the total arithmetic excess return over all periods. This holds true as shown below.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">all.equal</span>(attribution_results_grap_unadjusted<span class="op">$</span>Allocation[<span class="st">&quot;Total&quot;</span>, <span class="st">&quot;Total&quot;</span>] <span class="op">+</span><span class="st"> </span>
<span class="st">          </span>attribution_results_grap_unadjusted<span class="op">$</span>Selection[<span class="st">&quot;Total&quot;</span>, <span class="st">&quot;Total&quot;</span>],
          total_excess_return)
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
<p>The parameter <code>adjusted</code> that is passed in above to the <code>Attribution</code> function is used to control if the results contain the original un-smoothed individual periodic attribution effects or the smoothed values. Note, in either case the values in the <code>Total</code> row, which is the accumulation over all periods, is the same. The default is <code>FALSE</code>. So to retrieve the smoothed periodic effects, the following command is executed.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">attribution_results_grap =<span class="st"> </span><span class="kw">Attribution</span>(multi_period_portf_<span class="dv">2</span><span class="op">$</span>Rp, 
                                       multi_period_portf_<span class="dv">2</span><span class="op">$</span>wp, 
                                       multi_period_portf_<span class="dv">2</span><span class="op">$</span>Rb, 
                                       multi_period_portf_<span class="dv">2</span><span class="op">$</span>wb, 
                                       <span class="dt">method =</span> <span class="st">&quot;top.down&quot;</span>, <span class="dt">linking =</span> <span class="st">&quot;grap&quot;</span>, <span class="dt">adjusted =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p>The table below shows a comparison of the smoothed versus un-smoothed periodic effects. As described earlier, the values in the <em>Total</em> row are the same in both cases.</p>
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<caption>
Allocation Effects
</caption>
<thead>
<tr>
<th style="border-bottom:hidden" colspan="1">
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="4">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Original effects
</div>
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="4">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Smoothed effects
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
UK equities
</th>
<th style="text-align:right;">
Japanese equities
</th>
<th style="text-align:right;">
US equities
</th>
<th style="text-align:right;">
Total
</th>
<th style="text-align:right;">
UK equities
</th>
<th style="text-align:right;">
Japanese equities
</th>
<th style="text-align:right;">
US equities
</th>
<th style="text-align:right;">
Total
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2016-03-31
</td>
<td style="text-align:right;color: blue;">
0.0000000
</td>
<td style="text-align:right;color: blue;">
-0.0104000
</td>
<td style="text-align:right;color: blue;">
-0.0016000
</td>
<td style="text-align:right;color: blue;">
-0.0120000
</td>
<td style="text-align:right;color: orange;">
0.0000000
</td>
<td style="text-align:right;color: orange;">
-0.0088550
</td>
<td style="text-align:right;color: orange;">
-0.0013623
</td>
<td style="text-align:right;color: orange;">
-0.0102173
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #F7F7F7;">
2016-06-30
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
-0.0072000
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
-0.0086000
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
0.0108000
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
-0.0050000
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
-0.0069594
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
-0.0083126
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
0.0104390
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
-0.0048329
</td>
</tr>
<tr>
<td style="text-align:left;">
2016-09-30
</td>
<td style="text-align:right;color: blue;">
0.0250000
</td>
<td style="text-align:right;color: blue;">
0.0175000
</td>
<td style="text-align:right;color: blue;">
-0.0075000
</td>
<td style="text-align:right;color: blue;">
0.0350000
</td>
<td style="text-align:right;color: orange;">
0.0266775
</td>
<td style="text-align:right;color: orange;">
0.0186743
</td>
<td style="text-align:right;color: orange;">
-0.0080033
</td>
<td style="text-align:right;color: orange;">
0.0373486
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #F7F7F7;">
2016-12-31
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
-0.0030000
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
-0.0070000
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
0.0000000
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
-0.0100000
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
-0.0029816
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
-0.0069571
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
0.0000000
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
-0.0099387
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: black;">
Total
</td>
<td style="text-align:right;color: blue;font-weight: bold;color: black;">
0.0167366
</td>
<td style="text-align:right;color: blue;font-weight: bold;color: black;">
-0.0054504
</td>
<td style="text-align:right;color: blue;font-weight: bold;color: black;">
0.0010735
</td>
<td style="text-align:right;color: blue;font-weight: bold;color: black;">
0.0123596
</td>
<td style="text-align:right;color: orange;font-weight: bold;color: black;">
0.0167366
</td>
<td style="text-align:right;color: orange;font-weight: bold;color: black;">
-0.0054504
</td>
<td style="text-align:right;color: orange;font-weight: bold;color: black;">
0.0010735
</td>
<td style="text-align:right;color: orange;font-weight: bold;color: black;">
0.0123596
</td>
</tr>
</tbody>
</table>
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<caption>
Selection Effects
</caption>
<thead>
<tr>
<th style="border-bottom:hidden" colspan="1">
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="4">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Original effects
</div>
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="4">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Smoothed effects
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
UK equities
</th>
<th style="text-align:right;">
Japanese equities
</th>
<th style="text-align:right;">
US equities
</th>
<th style="text-align:right;">
Total
</th>
<th style="text-align:right;">
UK equities
</th>
<th style="text-align:right;">
Japanese equities
</th>
<th style="text-align:right;">
US equities
</th>
<th style="text-align:right;">
Total
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2016-03-31
</td>
<td style="text-align:right;color: blue;">
0.0400000
</td>
<td style="text-align:right;color: blue;">
-0.0030000
</td>
<td style="text-align:right;color: blue;">
-0.0060000
</td>
<td style="text-align:right;color: blue;">
0.0310000
</td>
<td style="text-align:right;color: orange;">
0.0340578
</td>
<td style="text-align:right;color: orange;">
-0.0025543
</td>
<td style="text-align:right;color: orange;">
-0.0051087
</td>
<td style="text-align:right;color: orange;">
0.0263948
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #F7F7F7;">
2016-06-30
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
0.0140000
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
-0.0020000
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
0.0050000
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
0.0170000
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
0.0135321
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
-0.0019332
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
0.0048329
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
0.0164318
</td>
</tr>
<tr>
<td style="text-align:left;">
2016-09-30
</td>
<td style="text-align:right;color: blue;">
0.0150000
</td>
<td style="text-align:right;color: blue;">
0.0150000
</td>
<td style="text-align:right;color: blue;">
0.0100000
</td>
<td style="text-align:right;color: blue;">
0.0400000
</td>
<td style="text-align:right;color: orange;">
0.0160065
</td>
<td style="text-align:right;color: orange;">
0.0160065
</td>
<td style="text-align:right;color: orange;">
0.0106710
</td>
<td style="text-align:right;color: orange;">
0.0426841
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #F7F7F7;">
2016-12-31
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
0.0150000
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
-0.0100000
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
0.0300000
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
0.0350000
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
0.0149080
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
-0.0099387
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
0.0298161
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
0.0347854
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: black;">
Total
</td>
<td style="text-align:right;color: blue;font-weight: bold;color: black;">
0.0785044
</td>
<td style="text-align:right;color: blue;font-weight: bold;color: black;">
0.0015803
</td>
<td style="text-align:right;color: blue;font-weight: bold;color: black;">
0.0402113
</td>
<td style="text-align:right;color: blue;font-weight: bold;color: black;">
0.1202961
</td>
<td style="text-align:right;color: orange;font-weight: bold;color: black;">
0.0785044
</td>
<td style="text-align:right;color: orange;font-weight: bold;color: black;">
0.0015803
</td>
<td style="text-align:right;color: orange;font-weight: bold;color: black;">
0.0402113
</td>
<td style="text-align:right;color: orange;font-weight: bold;color: black;">
0.1202961
</td>
</tr>
</tbody>
</table>
</div>
<div id="carino-smoothing" class="section level4">
<h4>Carino smoothing</h4>
<p>The following command is executed to perform a multi-period attribution analysis with the smoothing method as described by <em>Carino <span class="citation">(1999)</span></em>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">attribution_results_carino =<span class="st"> </span><span class="kw">Attribution</span>(multi_period_portf_<span class="dv">2</span><span class="op">$</span>Rp, 
                                         multi_period_portf_<span class="dv">2</span><span class="op">$</span>wp, 
                                         multi_period_portf_<span class="dv">2</span><span class="op">$</span>Rb, 
                                         multi_period_portf_<span class="dv">2</span><span class="op">$</span>wb, 
                                         <span class="dt">method =</span> <span class="st">&quot;top.down&quot;</span>, <span class="dt">linking =</span> <span class="st">&quot;carino&quot;</span>, <span class="dt">adjusted =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p>As before, the total attribution effects for each period sum up to the total arithmetic excess return over all periods.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">all.equal</span>(attribution_results_carino<span class="op">$</span>Allocation[<span class="st">&quot;Total&quot;</span>, <span class="st">&quot;Total&quot;</span>] <span class="op">+</span><span class="st"> </span>
<span class="st">            </span>attribution_results_carino<span class="op">$</span>Selection[<span class="st">&quot;Total&quot;</span>, <span class="st">&quot;Total&quot;</span>],
          total_excess_return)
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
</div>
<div id="menchero-smoothing" class="section level4">
<h4>Menchero smoothing</h4>
<p>The following command is executed to perform a multi-period attribution analysis with the smoothing method as described by <em>Menchero <span class="citation">(2000)</span></em>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">attribution_results_menchero =<span class="st"> </span><span class="kw">Attribution</span>(multi_period_portf_<span class="dv">2</span><span class="op">$</span>Rp, 
                                           multi_period_portf_<span class="dv">2</span><span class="op">$</span>wp, 
                                           multi_period_portf_<span class="dv">2</span><span class="op">$</span>Rb, 
                                           multi_period_portf_<span class="dv">2</span><span class="op">$</span>wb, 
                                           <span class="dt">method =</span> <span class="st">&quot;top.down&quot;</span>, <span class="dt">linking =</span> <span class="st">&quot;menchero&quot;</span>, <span class="dt">adjusted =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p>As before, the total attribution effects for each period sum up to the total arithmetic excess return over all periods.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">all.equal</span>(attribution_results_menchero<span class="op">$</span>Allocation[<span class="st">&quot;Total&quot;</span>, <span class="st">&quot;Total&quot;</span>] <span class="op">+</span><span class="st"> </span>
<span class="st">            </span>attribution_results_menchero<span class="op">$</span>Selection[<span class="st">&quot;Total&quot;</span>, <span class="st">&quot;Total&quot;</span>],
          total_excess_return)
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
</div>
<div id="frongello-smoothing" class="section level4">
<h4>Frongello smoothing</h4>
<p>The following command is executed to perform a multi-period attribution analysis with the smoothing method as described by <em>Frongello <span class="citation">(2002)</span></em>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">attribution_results_frongello =<span class="st"> </span><span class="kw">Attribution</span>(multi_period_portf_<span class="dv">2</span><span class="op">$</span>Rp, 
                                            multi_period_portf_<span class="dv">2</span><span class="op">$</span>wp, 
                                            multi_period_portf_<span class="dv">2</span><span class="op">$</span>Rb, 
                                            multi_period_portf_<span class="dv">2</span><span class="op">$</span>wb, 
                                            <span class="dt">method =</span> <span class="st">&quot;top.down&quot;</span>, <span class="dt">linking =</span> <span class="st">&quot;frongello&quot;</span>, <span class="dt">adjusted =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p>As before, the total attribution effects for each period sum up to the total arithmetic excess return over all periods.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">all.equal</span>(attribution_results_frongello<span class="op">$</span>Allocation[<span class="st">&quot;Total&quot;</span>, <span class="st">&quot;Total&quot;</span>] <span class="op">+</span><span class="st"> </span>
<span class="st">            </span>attribution_results_frongello<span class="op">$</span>Selection[<span class="st">&quot;Total&quot;</span>, <span class="st">&quot;Total&quot;</span>],
          total_excess_return)
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
</div>
<div id="davies-and-laker-smoothing" class="section level4">
<h4>Davies and Laker smoothing</h4>
<p>The command below is executed to perform a multi-period attribution analysis with the smoothing method as described by <em>Davies and Laker <span class="citation">(2001)</span></em>. This method always returns all three attribution effects of allocation, selection and interaction. In addition, you can only get <strong>total</strong> smoothed attribution effects and <strong>not that of each period</strong>. Consequently, the <code>adjusted</code> parameter does not apply.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">attribution_results_davies_laker =<span class="st"> </span><span class="kw">Attribution</span>(multi_period_portf_<span class="dv">2</span><span class="op">$</span>Rp, 
                                               multi_period_portf_<span class="dv">2</span><span class="op">$</span>wp, 
                                               multi_period_portf_<span class="dv">2</span><span class="op">$</span>Rb, 
                                               multi_period_portf_<span class="dv">2</span><span class="op">$</span>wb, 
                                               <span class="dt">linking =</span> <span class="st">&quot;davies.laker&quot;</span>)</code></pre></div>
<p>As before, the total attribution effects for each period sum up to the total arithmetic excess return over all periods.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">all.equal</span>(attribution_results_davies_laker<span class="op">$</span>Allocation[<span class="st">&quot;Total&quot;</span>, <span class="st">&quot;Total&quot;</span>] <span class="op">+</span><span class="st"> </span>
<span class="st">            </span>attribution_results_davies_laker<span class="op">$</span>Selection[<span class="st">&quot;Total&quot;</span>, <span class="st">&quot;Total&quot;</span>] <span class="op">+</span><span class="st"> </span>
<span class="st">            </span>attribution_results_davies_laker<span class="op">$</span>Interaction[<span class="st">&quot;Total&quot;</span>, <span class="st">&quot;Total&quot;</span>],
          total_excess_return)
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
</div>
</div>
<div id="comparison-of-smoothing-methods" class="section level3">
<h3><ins>Comparison of smoothing methods</ins></h3>
<p>The attribution effects for the different algorithms effects are compared below. As is evident, even though the total arithmetic excess return is completely explained by the sum of the total effects in each method, the methods disagree on the values of adjusted effects for each period and category.</p>
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<caption>
Allocation Effects
</caption>
<thead>
<tr>
<th style="border-bottom:hidden" colspan="1">
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="4">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
GRAP
</div>
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="4">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Frongello
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
UK equities
</th>
<th style="text-align:right;">
Japanese equities
</th>
<th style="text-align:right;">
US equities
</th>
<th style="text-align:right;">
Total
</th>
<th style="text-align:right;">
UK equities
</th>
<th style="text-align:right;">
Japanese equities
</th>
<th style="text-align:right;">
US equities
</th>
<th style="text-align:right;">
Total
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2016-03-31
</td>
<td style="text-align:right;color: blue;">
0.0000000
</td>
<td style="text-align:right;color: blue;">
-0.0088550
</td>
<td style="text-align:right;color: blue;">
-0.0013623
</td>
<td style="text-align:right;color: blue;">
-0.0102173
</td>
<td style="text-align:right;color: orange;">
0.0000000
</td>
<td style="text-align:right;color: orange;">
-0.0104000
</td>
<td style="text-align:right;color: orange;">
-0.0016000
</td>
<td style="text-align:right;color: orange;">
-0.0120000
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #F7F7F7;">
2016-06-30
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
-0.0069594
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
-0.0083126
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
0.0104390
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
-0.0048329
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
-0.0077976
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
-0.0088354
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
0.0117700
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
-0.0048630
</td>
</tr>
<tr>
<td style="text-align:left;">
2016-09-30
</td>
<td style="text-align:right;color: blue;">
0.0266775
</td>
<td style="text-align:right;color: blue;">
0.0186743
</td>
<td style="text-align:right;color: blue;">
-0.0080033
</td>
<td style="text-align:right;color: blue;">
0.0373486
</td>
<td style="text-align:right;color: orange;">
0.0271291
</td>
<td style="text-align:right;color: orange;">
0.0207125
</td>
<td style="text-align:right;color: orange;">
-0.0091176
</td>
<td style="text-align:right;color: orange;">
0.0387241
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #F7F7F7;">
2016-12-31
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
-0.0029816
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
-0.0069571
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
0.0000000
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
-0.0099387
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
-0.0025950
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
-0.0069275
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
0.0000210
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
-0.0095015
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: black;">
Total
</td>
<td style="text-align:right;color: blue;font-weight: bold;color: black;">
0.0167366
</td>
<td style="text-align:right;color: blue;font-weight: bold;color: black;">
-0.0054504
</td>
<td style="text-align:right;color: blue;font-weight: bold;color: black;">
0.0010735
</td>
<td style="text-align:right;color: blue;font-weight: bold;color: black;">
0.0123596
</td>
<td style="text-align:right;color: orange;font-weight: bold;color: black;">
0.0167366
</td>
<td style="text-align:right;color: orange;font-weight: bold;color: black;">
-0.0054504
</td>
<td style="text-align:right;color: orange;font-weight: bold;color: black;">
0.0010735
</td>
<td style="text-align:right;color: orange;font-weight: bold;color: black;">
0.0123596
</td>
</tr>
</tbody>
</table>
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<caption>
Allocation Effects
</caption>
<thead>
<tr>
<th style="border-bottom:hidden" colspan="1">
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="4">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Carino
</div>
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="4">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Menchero
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
UK equities
</th>
<th style="text-align:right;">
Japanese equities
</th>
<th style="text-align:right;">
US equities
</th>
<th style="text-align:right;">
Total
</th>
<th style="text-align:right;">
UK equities
</th>
<th style="text-align:right;">
Japanese equities
</th>
<th style="text-align:right;">
US equities
</th>
<th style="text-align:right;">
Total
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2016-03-31
</td>
<td style="text-align:right;color: darkcyan;">
0.0000000
</td>
<td style="text-align:right;color: darkcyan;">
-0.0094049
</td>
<td style="text-align:right;color: darkcyan;">
-0.0014469
</td>
<td style="text-align:right;color: darkcyan;">
-0.0108518
</td>
<td style="text-align:right;color: red;">
0.0000000
</td>
<td style="text-align:right;color: red;">
-0.0103048
</td>
<td style="text-align:right;color: red;">
-0.0015854
</td>
<td style="text-align:right;color: red;">
-0.0118901
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #F7F7F7;">
2016-06-30
</td>
<td style="text-align:right;color: darkcyan;background-color: #F7F7F7;">
-0.0072808
</td>
<td style="text-align:right;color: darkcyan;background-color: #F7F7F7;">
-0.0086965
</td>
<td style="text-align:right;color: darkcyan;background-color: #F7F7F7;">
0.0109211
</td>
<td style="text-align:right;color: darkcyan;background-color: #F7F7F7;">
-0.0050561
</td>
<td style="text-align:right;color: red;background-color: #F7F7F7;">
-0.0071003
</td>
<td style="text-align:right;color: red;background-color: #F7F7F7;">
-0.0084810
</td>
<td style="text-align:right;color: red;background-color: #F7F7F7;">
0.0106505
</td>
<td style="text-align:right;color: red;background-color: #F7F7F7;">
-0.0049308
</td>
</tr>
<tr>
<td style="text-align:left;">
2016-09-30
</td>
<td style="text-align:right;color: darkcyan;">
0.0266110
</td>
<td style="text-align:right;color: darkcyan;">
0.0186277
</td>
<td style="text-align:right;color: darkcyan;">
-0.0079833
</td>
<td style="text-align:right;color: darkcyan;">
0.0372554
</td>
<td style="text-align:right;color: red;">
0.0257081
</td>
<td style="text-align:right;color: red;">
0.0179957
</td>
<td style="text-align:right;color: red;">
-0.0077124
</td>
<td style="text-align:right;color: red;">
0.0359913
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #F7F7F7;">
2016-12-31
</td>
<td style="text-align:right;color: darkcyan;background-color: #F7F7F7;">
-0.0028207
</td>
<td style="text-align:right;color: darkcyan;background-color: #F7F7F7;">
-0.0065817
</td>
<td style="text-align:right;color: darkcyan;background-color: #F7F7F7;">
0.0000000
</td>
<td style="text-align:right;color: darkcyan;background-color: #F7F7F7;">
-0.0094024
</td>
<td style="text-align:right;color: red;background-color: #F7F7F7;">
-0.0029846
</td>
<td style="text-align:right;color: red;background-color: #F7F7F7;">
-0.0069640
</td>
<td style="text-align:right;color: red;background-color: #F7F7F7;">
0.0000000
</td>
<td style="text-align:right;color: red;background-color: #F7F7F7;">
-0.0099486
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Total
</td>
<td style="text-align:right;color: darkcyan;font-weight: bold;">
0.0165095
</td>
<td style="text-align:right;color: darkcyan;font-weight: bold;">
-0.0060553
</td>
<td style="text-align:right;color: darkcyan;font-weight: bold;">
0.0014909
</td>
<td style="text-align:right;color: darkcyan;font-weight: bold;">
0.0119451
</td>
<td style="text-align:right;color: red;font-weight: bold;">
0.0156232
</td>
<td style="text-align:right;color: red;font-weight: bold;">
-0.0077541
</td>
<td style="text-align:right;color: red;font-weight: bold;">
0.0013527
</td>
<td style="text-align:right;color: red;font-weight: bold;">
0.0092218
</td>
</tr>
</tbody>
</table>
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<caption>
Selection Effects
</caption>
<thead>
<tr>
<th style="border-bottom:hidden" colspan="1">
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="4">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
GRAP
</div>
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="4">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Frongello
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
UK equities
</th>
<th style="text-align:right;">
Japanese equities
</th>
<th style="text-align:right;">
US equities
</th>
<th style="text-align:right;">
Total
</th>
<th style="text-align:right;">
UK equities
</th>
<th style="text-align:right;">
Japanese equities
</th>
<th style="text-align:right;">
US equities
</th>
<th style="text-align:right;">
Total
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2016-03-31
</td>
<td style="text-align:right;color: blue;">
0.0340578
</td>
<td style="text-align:right;color: blue;">
-0.0025543
</td>
<td style="text-align:right;color: blue;">
-0.0051087
</td>
<td style="text-align:right;color: blue;">
0.0263948
</td>
<td style="text-align:right;color: orange;">
0.0400000
</td>
<td style="text-align:right;color: orange;">
-0.0030000
</td>
<td style="text-align:right;color: orange;">
-0.0060000
</td>
<td style="text-align:right;color: orange;">
0.0310000
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #F7F7F7;">
2016-06-30
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
0.0135321
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
-0.0019332
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
0.0048329
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
0.0164318
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
0.0133220
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
-0.0020280
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
0.0056910
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
0.0169850
</td>
</tr>
<tr>
<td style="text-align:left;">
2016-09-30
</td>
<td style="text-align:right;color: blue;">
0.0160065
</td>
<td style="text-align:right;color: blue;">
0.0160065
</td>
<td style="text-align:right;color: blue;">
0.0106710
</td>
<td style="text-align:right;color: blue;">
0.0426841
</td>
<td style="text-align:right;color: orange;">
0.0090274
</td>
<td style="text-align:right;color: orange;">
0.0163212
</td>
<td style="text-align:right;color: orange;">
0.0105004
</td>
<td style="text-align:right;color: orange;">
0.0358490
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #F7F7F7;">
2016-12-31
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
0.0149080
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
-0.0099387
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
0.0298161
</td>
<td style="text-align:right;color: blue;background-color: #F7F7F7;">
0.0347854
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
0.0161550
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
-0.0097128
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
0.0300199
</td>
<td style="text-align:right;color: orange;background-color: #F7F7F7;">
0.0364621
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: black;">
Total
</td>
<td style="text-align:right;color: blue;font-weight: bold;color: black;">
0.0785044
</td>
<td style="text-align:right;color: blue;font-weight: bold;color: black;">
0.0015803
</td>
<td style="text-align:right;color: blue;font-weight: bold;color: black;">
0.0402113
</td>
<td style="text-align:right;color: blue;font-weight: bold;color: black;">
0.1202961
</td>
<td style="text-align:right;color: orange;font-weight: bold;color: black;">
0.0785044
</td>
<td style="text-align:right;color: orange;font-weight: bold;color: black;">
0.0015803
</td>
<td style="text-align:right;color: orange;font-weight: bold;color: black;">
0.0402113
</td>
<td style="text-align:right;color: orange;font-weight: bold;color: black;">
0.1202961
</td>
</tr>
</tbody>
</table>
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<caption>
Selection Effects
</caption>
<thead>
<tr>
<th style="border-bottom:hidden" colspan="1">
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="4">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Carino
</div>
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="4">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Menchero
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
UK equities
</th>
<th style="text-align:right;">
Japanese equities
</th>
<th style="text-align:right;">
US equities
</th>
<th style="text-align:right;">
Total
</th>
<th style="text-align:right;">
UK equities
</th>
<th style="text-align:right;">
Japanese equities
</th>
<th style="text-align:right;">
US equities
</th>
<th style="text-align:right;">
Total
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2016-03-31
</td>
<td style="text-align:right;color: darkcyan;">
0.0361725
</td>
<td style="text-align:right;color: darkcyan;">
-0.0027129
</td>
<td style="text-align:right;color: darkcyan;">
-0.0054259
</td>
<td style="text-align:right;color: darkcyan;">
0.0280337
</td>
<td style="text-align:right;color: red;">
0.0396338
</td>
<td style="text-align:right;color: red;">
-0.0029725
</td>
<td style="text-align:right;color: red;">
-0.0059451
</td>
<td style="text-align:right;color: red;">
0.0307162
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #F7F7F7;">
2016-06-30
</td>
<td style="text-align:right;color: darkcyan;background-color: #F7F7F7;">
0.0141570
</td>
<td style="text-align:right;color: darkcyan;background-color: #F7F7F7;">
-0.0020224
</td>
<td style="text-align:right;color: darkcyan;background-color: #F7F7F7;">
0.0050561
</td>
<td style="text-align:right;color: darkcyan;background-color: #F7F7F7;">
0.0171907
</td>
<td style="text-align:right;color: red;background-color: #F7F7F7;">
0.0138062
</td>
<td style="text-align:right;color: red;background-color: #F7F7F7;">
-0.0019723
</td>
<td style="text-align:right;color: red;background-color: #F7F7F7;">
0.0049308
</td>
<td style="text-align:right;color: red;background-color: #F7F7F7;">
0.0167647
</td>
</tr>
<tr>
<td style="text-align:left;">
2016-09-30
</td>
<td style="text-align:right;color: darkcyan;">
0.0159666
</td>
<td style="text-align:right;color: darkcyan;">
0.0159666
</td>
<td style="text-align:right;color: darkcyan;">
0.0106444
</td>
<td style="text-align:right;color: darkcyan;">
0.0425776
</td>
<td style="text-align:right;color: red;">
0.0154249
</td>
<td style="text-align:right;color: red;">
0.0154249
</td>
<td style="text-align:right;color: red;">
0.0102832
</td>
<td style="text-align:right;color: red;">
0.0411330
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #F7F7F7;">
2016-12-31
</td>
<td style="text-align:right;color: darkcyan;background-color: #F7F7F7;">
0.0141037
</td>
<td style="text-align:right;color: darkcyan;background-color: #F7F7F7;">
-0.0094024
</td>
<td style="text-align:right;color: darkcyan;background-color: #F7F7F7;">
0.0282073
</td>
<td style="text-align:right;color: darkcyan;background-color: #F7F7F7;">
0.0329086
</td>
<td style="text-align:right;color: red;background-color: #F7F7F7;">
0.0149229
</td>
<td style="text-align:right;color: red;background-color: #F7F7F7;">
-0.0099486
</td>
<td style="text-align:right;color: red;background-color: #F7F7F7;">
0.0298458
</td>
<td style="text-align:right;color: red;background-color: #F7F7F7;">
0.0348201
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Total
</td>
<td style="text-align:right;color: darkcyan;font-weight: bold;">
0.0803999
</td>
<td style="text-align:right;color: darkcyan;font-weight: bold;">
0.0018288
</td>
<td style="text-align:right;color: darkcyan;font-weight: bold;">
0.0384819
</td>
<td style="text-align:right;color: darkcyan;font-weight: bold;">
0.1207106
</td>
<td style="text-align:right;color: red;font-weight: bold;">
0.0837877
</td>
<td style="text-align:right;color: red;font-weight: bold;">
0.0005314
</td>
<td style="text-align:right;color: red;font-weight: bold;">
0.0391148
</td>
<td style="text-align:right;color: red;font-weight: bold;">
0.1234339
</td>
</tr>
</tbody>
</table>
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<caption>
Davies and Laker
</caption>
<thead>
<tr>
<th style="border-bottom:hidden" colspan="1">
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="4">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Allocation
</div>
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="4">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Selection
</div>
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="4">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Interaction
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
UK equities
</th>
<th style="text-align:right;">
Japanese equities
</th>
<th style="text-align:right;">
US equities
</th>
<th style="text-align:right;">
Total
</th>
<th style="text-align:right;">
UK equities
</th>
<th style="text-align:right;">
Japanese equities
</th>
<th style="text-align:right;">
US equities
</th>
<th style="text-align:right;">
Total
</th>
<th style="text-align:right;">
UK equities
</th>
<th style="text-align:right;">
Japanese equities
</th>
<th style="text-align:right;">
US equities
</th>
<th style="text-align:right;">
Total
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2016-03-31
</td>
<td style="text-align:right;color: purple;">
0.000
</td>
<td style="text-align:right;color: purple;">
-0.004
</td>
<td style="text-align:right;color: purple;">
-0.008
</td>
<td style="text-align:right;color: purple;">
-0.0120000
</td>
<td style="text-align:right;color: purple;">
0.040
</td>
<td style="text-align:right;color: purple;">
-0.002
</td>
<td style="text-align:right;color: purple;">
-0.008
</td>
<td style="text-align:right;color: purple;">
0.0300000
</td>
<td style="text-align:right;color: purple;">
0.000
</td>
<td style="text-align:right;color: purple;">
-0.001
</td>
<td style="text-align:right;color: purple;">
0.002
</td>
<td style="text-align:right;color: purple;">
0.0010000
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #F7F7F7;">
2016-06-30
</td>
<td style="text-align:right;color: purple;background-color: #F7F7F7;">
-0.021
</td>
<td style="text-align:right;color: purple;background-color: #F7F7F7;">
-0.004
</td>
<td style="text-align:right;color: purple;background-color: #F7F7F7;">
0.020
</td>
<td style="text-align:right;color: purple;background-color: #F7F7F7;">
-0.0050000
</td>
<td style="text-align:right;color: purple;background-color: #F7F7F7;">
0.008
</td>
<td style="text-align:right;color: purple;background-color: #F7F7F7;">
-0.003
</td>
<td style="text-align:right;color: purple;background-color: #F7F7F7;">
0.015
</td>
<td style="text-align:right;color: purple;background-color: #F7F7F7;">
0.0200000
</td>
<td style="text-align:right;color: purple;background-color: #F7F7F7;">
0.006
</td>
<td style="text-align:right;color: purple;background-color: #F7F7F7;">
0.001
</td>
<td style="text-align:right;color: purple;background-color: #F7F7F7;">
-0.010
</td>
<td style="text-align:right;color: purple;background-color: #F7F7F7;">
-0.0030000
</td>
</tr>
<tr>
<td style="text-align:left;">
2016-09-30
</td>
<td style="text-align:right;color: purple;">
0.050
</td>
<td style="text-align:right;color: purple;">
0.005
</td>
<td style="text-align:right;color: purple;">
-0.020
</td>
<td style="text-align:right;color: purple;">
0.0350000
</td>
<td style="text-align:right;color: purple;">
0.025
</td>
<td style="text-align:right;color: purple;">
0.012
</td>
<td style="text-align:right;color: purple;">
0.005
</td>
<td style="text-align:right;color: purple;">
0.0420000
</td>
<td style="text-align:right;color: purple;">
-0.010
</td>
<td style="text-align:right;color: purple;">
0.003
</td>
<td style="text-align:right;color: purple;">
0.005
</td>
<td style="text-align:right;color: purple;">
-0.0020000
</td>
</tr>
<tr>
<td style="text-align:left;background-color: #F7F7F7;">
2016-12-31
</td>
<td style="text-align:right;color: purple;background-color: #F7F7F7;">
-0.005
</td>
<td style="text-align:right;color: purple;background-color: #F7F7F7;">
-0.005
</td>
<td style="text-align:right;color: purple;background-color: #F7F7F7;">
0.000
</td>
<td style="text-align:right;color: purple;background-color: #F7F7F7;">
-0.0100000
</td>
<td style="text-align:right;color: purple;background-color: #F7F7F7;">
0.020
</td>
<td style="text-align:right;color: purple;background-color: #F7F7F7;">
-0.008
</td>
<td style="text-align:right;color: purple;background-color: #F7F7F7;">
0.030
</td>
<td style="text-align:right;color: purple;background-color: #F7F7F7;">
0.0420000
</td>
<td style="text-align:right;color: purple;background-color: #F7F7F7;">
-0.005
</td>
<td style="text-align:right;color: purple;background-color: #F7F7F7;">
-0.002
</td>
<td style="text-align:right;color: purple;background-color: #F7F7F7;">
0.000
</td>
<td style="text-align:right;color: purple;background-color: #F7F7F7;">
-0.0070000
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Total
</td>
<td style="text-align:right;color: purple;font-weight: bold;">
NA
</td>
<td style="text-align:right;color: purple;font-weight: bold;">
NA
</td>
<td style="text-align:right;color: purple;font-weight: bold;">
NA
</td>
<td style="text-align:right;color: purple;font-weight: bold;">
0.0116442
</td>
<td style="text-align:right;color: purple;font-weight: bold;">
NA
</td>
<td style="text-align:right;color: purple;font-weight: bold;">
NA
</td>
<td style="text-align:right;color: purple;font-weight: bold;">
NA
</td>
<td style="text-align:right;color: purple;font-weight: bold;">
0.1317585
</td>
<td style="text-align:right;color: purple;font-weight: bold;">
NA
</td>
<td style="text-align:right;color: purple;font-weight: bold;">
NA
</td>
<td style="text-align:right;color: purple;font-weight: bold;">
NA
</td>
<td style="text-align:right;color: purple;font-weight: bold;">
-0.0107469
</td>
</tr>
</tbody>
</table>
<p>Summarized below are some key characteristics &amp; differences between the methods:</p>
<ul>
<li>The <code>GRAP</code> and <code>Frongello</code> methods are <strong>order dependent</strong> and the smoothed results will be different if the periods are rearranged</li>
<li>The <code>GRAP</code> and <code>Frongello</code> methods produce the same total effects across all periods for each category</li>
<li>Counter-intuitively, the <code>Carino</code> and <code>Menchero</code> methods are sensitive to the total number of periods used to smooth the effects. In other words, if you lengthen the period of analysis, you will have to recompute the effects for <strong>all periods</strong> and not just the additional ones added. Consequently, avoid using these methods unless you understand their implications.</li>
<li>The <code>GRAP</code> and <code>Frongello</code> methods do not suffer from this disadvantage as you lengthen your period of analysis and so are computationally less cumbersome</li>
</ul>
</div>
<div id="references" class="section level3 unnumbered">
<h3><ins>References</ins></h3>
<div id="refs" class="references">
<div id="ref-carino1999combining">
<p>Carino, David. 1999. “Combining Attribution Effects over Time.” <em>Journal of Performance Measurement</em> 3 (4): 5–14.</p>
</div>
<div id="ref-davies2001multiple">
<p>Davies, Owen, and Damien Laker. 2001. “Multiple-Period Performance Attribution Using the Brinson Model.” <em>Journal of Performance Measurement</em> 6 (1): 12–22.</p>
</div>
<div id="ref-frongello2002linking">
<p>Frongello, Andrew Scott Bay. 2002. “Linking Single Period Attribution Results.” <em>Journal of Performance Measurement</em> 6 (3). TGS Publishing: 10–22.</p>
</div>
<div id="ref-grap1997">
<p>GRAP, (Groupe de Recherche en Attribution de Performance). 1997. “Synthese Des Modeles d’attribution de Performance.” <em>Journal of Performance Measurement</em>. Paris, Mars.</p>
</div>
<div id="ref-menchero2000optimized">
<p>Menchero, Jose G. 2000. “An Optimized Approach to Linking Attribution Effects over Time.” <em>Journal of Performance Measurement</em> 5 (1): 36–42.</p>
</div>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
